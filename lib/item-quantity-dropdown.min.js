!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("item-quantity-dropdown",[],n):"object"==typeof exports?exports["item-quantity-dropdown"]=n():t["item-quantity-dropdown"]=n()}(window,(function(){return function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);var o,r;e(1);o=jQuery,r={maxItems:1/0,minItems:0,selectionText:"item",textPlural:"items",controls:{position:"right",displayCls:"iqdropdown-content",controlsCls:"iqdropdown-item-controls",counterCls:"counter",resetCls:"iqdropdown-reset"},items:{},onChange:function(){},onUpdateDisplay:function(){},beforeDecrement:function(){return!0},beforeIncrement:function(){return!0},setSelectionText:function(t,n){var e=1!==n&&this.textPlural.length>0?this.textPlural:this.selectionText;return"".concat(n," ").concat(e)}},o.fn.iqDropdown=function(t){return this.each((function(){var n=o(this),e=n.find("p.iqdropdown-selection").last(),i=n.find("div.iqdropdown-menu").find("div.iqdropdown-menu-option"),c={selectionText:e.data("selection-text"),textPlural:e.data("text-plural")},u=o.extend(!0,{},r,c,t),a={},s=0;function l(){e.html(u.setSelectionText(a,s)),"function"==typeof u.onUpdateDisplay&&u.onUpdateDisplay(n)}n.click((function(){n.toggleClass("menu-open")})),i.each((function(){var t=o(this),n=t.data("id"),e=Number(t.data("defaultcount")||"0");a[n]=e,s+=e,function(t,n){var e=Number(n.data("mincount")),o=Number(n.data("maxcount"));u.items[t]={minCount:Number.isNaN(Number(e))?0:e,maxCount:Number.isNaN(Number(o))?1/0:o}}(n,t),function(t,n){var e=o("<div />").addClass(u.controls.controlsCls),r=o('\n          <button class="button-decrement">\n            <i class="icon-decrement"></i>\n          </button>\n        '),i=o('\n          <button class="button-increment">\n            <i class="icon-decrement icon-increment"></i>\n          </button>\n        '),c=o("<span>".concat(a[t],"</span>")).addClass(u.controls.counterCls);n.children("div").addClass(u.controls.displayCls),e.append(r,c,i),"right"===u.controls.position?n.append(e):n.prepend(e),r.click((function(n){var e=u.items,o=u.minItems,r=u.beforeDecrement,i=u.onChange;r(t,a)&&s>o&&a[t]>e[t].minCount&&(a[t]-=1,s-=1,c.html(a[t]),l(),i(t,a[t],s)),n.preventDefault()})),i.click((function(n){var e=u.items,o=u.maxItems,r=u.beforeIncrement,i=u.onChange;r(t,a)&&s<o&&a[t]<e[t].maxCount&&(a[t]+=1,s+=1,c.html(a[t]),l(),i(t,a[t],s)),n.preventDefault()})),n.click((function(t){return t.stopPropagation()}))}(n,t)})),n.find(".".concat(u.controls.resetCls)).click((function(t){t.stopPropagation(),Object.keys(a).forEach((function(t){a[t]=0})),s=0,n.find(".".concat(u.controls.counterCls)).text(0),l()})),l()})),this}},function(t,n,e){}])}));
//# sourceMappingURL=item-quantity-dropdown.min.js.map